{"Constants": {},
 "Functions": {"FParamFun43": {"code": "def ddq(q, dq, tau):\n    import torch\n    from adam.pytorch.computation_batch import KinDynComputationsBatch\n    torch.set_default_device('cpu')\n    torch.set_default_dtype(torch.float32)\n    robot = '/home/dema/friction_estimation/z1_description.urdf'  \n\n    joints_name_list = ['joint1', 'joint2', 'joint3', 'joint4', 'joint5', 'joint6']\n    kinDyn = KinDynComputationsBatch(robot, joints_name_list, device='cpu', dtype=torch.float32)\n    q = q.squeeze(1)\n    dq = dq.squeeze(1)\n    tau = tau.squeeze(1)\n    tau_full = torch.concat((torch.zeros(tau.shape[0], 6), tau), dim=1)\n\n    B = q.shape[0]\n\n    H_b = torch.eye(4).expand(B, 4, 4)   \n    v_b = torch.zeros(B, 6)       \n\n    M = kinDyn.mass_matrix(H_b, q)\n    h = kinDyn.bias_force(H_b, q, v_b, dq)\n    t = tau_full - h\n\n    ddq_full = (torch.linalg.inv(M[:,6:,6:]) @ t[:,6:].unsqueeze(-1)).squeeze(-1)\n    ddq_full = ddq_full.unsqueeze(1)\n\n    return ddq_full\n",
                               "in_dim": [{"dim": 6, "sw": 1},
                                          {"dim": 6, "sw": 1},
                                          {"dim": 6, "sw": 1}],
                               "map_over_dim": false,
                               "n_input": 3,
                               "name": "ddq",
                               "params_and_consts": []}},
 "Info": {"SampleTime": 0.002,
          "nnodely_version": "1.5.2",
          "ns": [1, 0],
          "ntot": 1,
          "num_parameters": 0},
 "Inputs": {"ddq1": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "ddq2": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "ddq3": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "ddq4": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "ddq5": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "ddq6": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "dq1": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "dq2": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "dq3": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "dq4": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "dq5": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "dq6": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "q1": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "q2": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "q3": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "q4": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "q5": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "q6": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "tau1": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "tau2": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "tau3": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "tau4": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "tau5": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]},
            "tau6": {"dim": 1, "ns": [1, 0], "ntot": 1, "sw": [-1, 0]}},
 "Minimizers": {"acc_error": {"A": "ParamFun5468",
                              "B": "Concatenate5467",
                              "loss": "mse"}},
 "Models": "acc",
 "Outputs": {"ddq_out": "ParamFun5468"},
 "Parameters": {},
 "Relations": {"Concatenate5412": ["Concatenate",
                                   ["SamplePart5401", "SamplePart5403"]],
               "Concatenate5413": ["Concatenate",
                                   ["Concatenate5412", "SamplePart5405"]],
               "Concatenate5414": ["Concatenate",
                                   ["Concatenate5413", "SamplePart5407"]],
               "Concatenate5415": ["Concatenate",
                                   ["Concatenate5414", "SamplePart5409"]],
               "Concatenate5416": ["Concatenate",
                                   ["Concatenate5415", "SamplePart5411"]],
               "Concatenate5421": ["Concatenate",
                                   ["SamplePart5418", "SamplePart5420"]],
               "Concatenate5424": ["Concatenate",
                                   ["Concatenate5421", "SamplePart5423"]],
               "Concatenate5427": ["Concatenate",
                                   ["Concatenate5424", "SamplePart5426"]],
               "Concatenate5430": ["Concatenate",
                                   ["Concatenate5427", "SamplePart5429"]],
               "Concatenate5433": ["Concatenate",
                                   ["Concatenate5430", "SamplePart5432"]],
               "Concatenate5438": ["Concatenate",
                                   ["SamplePart5435", "SamplePart5437"]],
               "Concatenate5441": ["Concatenate",
                                   ["Concatenate5438", "SamplePart5440"]],
               "Concatenate5444": ["Concatenate",
                                   ["Concatenate5441", "SamplePart5443"]],
               "Concatenate5447": ["Concatenate",
                                   ["Concatenate5444", "SamplePart5446"]],
               "Concatenate5450": ["Concatenate",
                                   ["Concatenate5447", "SamplePart5449"]],
               "Concatenate5455": ["Concatenate",
                                   ["SamplePart5452", "SamplePart5454"]],
               "Concatenate5458": ["Concatenate",
                                   ["Concatenate5455", "SamplePart5457"]],
               "Concatenate5461": ["Concatenate",
                                   ["Concatenate5458", "SamplePart5460"]],
               "Concatenate5464": ["Concatenate",
                                   ["Concatenate5461", "SamplePart5463"]],
               "Concatenate5467": ["Concatenate",
                                   ["Concatenate5464", "SamplePart5466"]],
               "ParamFun5468": ["ParamFun",
                                ["Concatenate5433",
                                 "Concatenate5450",
                                 "Concatenate5416"],
                                "FParamFun43"],
               "SamplePart5401": ["SamplePart", ["tau1"], -1, [-1, 0]],
               "SamplePart5403": ["SamplePart", ["tau2"], -1, [-1, 0]],
               "SamplePart5405": ["SamplePart", ["tau3"], -1, [-1, 0]],
               "SamplePart5407": ["SamplePart", ["tau4"], -1, [-1, 0]],
               "SamplePart5409": ["SamplePart", ["tau5"], -1, [-1, 0]],
               "SamplePart5411": ["SamplePart", ["tau6"], -1, [-1, 0]],
               "SamplePart5418": ["SamplePart", ["q1"], -1, [-1, 0]],
               "SamplePart5420": ["SamplePart", ["q2"], -1, [-1, 0]],
               "SamplePart5423": ["SamplePart", ["q3"], -1, [-1, 0]],
               "SamplePart5426": ["SamplePart", ["q4"], -1, [-1, 0]],
               "SamplePart5429": ["SamplePart", ["q5"], -1, [-1, 0]],
               "SamplePart5432": ["SamplePart", ["q6"], -1, [-1, 0]],
               "SamplePart5435": ["SamplePart", ["dq1"], -1, [-1, 0]],
               "SamplePart5437": ["SamplePart", ["dq2"], -1, [-1, 0]],
               "SamplePart5440": ["SamplePart", ["dq3"], -1, [-1, 0]],
               "SamplePart5443": ["SamplePart", ["dq4"], -1, [-1, 0]],
               "SamplePart5446": ["SamplePart", ["dq5"], -1, [-1, 0]],
               "SamplePart5449": ["SamplePart", ["dq6"], -1, [-1, 0]],
               "SamplePart5452": ["SamplePart", ["ddq1"], -1, [-1, 0]],
               "SamplePart5454": ["SamplePart", ["ddq2"], -1, [-1, 0]],
               "SamplePart5457": ["SamplePart", ["ddq3"], -1, [-1, 0]],
               "SamplePart5460": ["SamplePart", ["ddq4"], -1, [-1, 0]],
               "SamplePart5463": ["SamplePart", ["ddq5"], -1, [-1, 0]],
               "SamplePart5466": ["SamplePart", ["ddq6"], -1, [-1, 0]]}}